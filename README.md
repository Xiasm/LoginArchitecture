###  AOP实现Android集中式登陆架构

#### 前言

登陆应该是应用开发中一个很常见的功能，一般在应用中有两种登陆，一种是一进入应用就必须登陆才能使用（如微信和QQ等），另一种是需要登录的时候才会去登陆（如淘宝京东等）。我在工作中遇到的大部分是第二种情况，针对于第二种的登陆，我之前都是通过if(){}else()去判断是否登录的，但是这样项目结构庞大了之后就会使代码臃肿。因为判断用户登陆状态是一个频次很高的操作，所以针对这方面我就考虑有没有一种方案既能很方便的判断登陆状态又使代码很简洁，想来想去方案有两种，一种是hook AMS拦截startActivity，在启动activity的时候判断是否登录，另一种就是通过AOP实现切面添加判断登陆代码片段。hook对系统有兼容性，需要考虑到api 14到27等的系统源码是否改变，而aop的实现方式与版本没有任何兼容性问题，所以最后就采用了aop的方式去实现app集中是登陆。

#### AOP实现登陆拦截原理

